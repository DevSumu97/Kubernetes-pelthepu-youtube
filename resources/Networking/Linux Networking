We look at basic networking concepts like switching, routing, gateways, etc.
we then understand DNS and then we get a basic introduction to core DNS.
We look at how to configure DNS settings on a Linux system.
We then understand basics of network namespaces in Linux.



Sys A with interface eth0 (192.168.1.10)--------SWITCH (192.168.1.0)---------SysB with interface eth0 (192.168.1.11)

We have two computers A and B laptops, desktops VMs on the cloud or wherever. How does system A reach B?
We connect them to a switch, and the switch creates a network containing the two systems to connect them to a switch.
We need an interface on each host, physical or virtual, depending on the host, to see the interfaces for the host. We use the command =>  ip link
In this case, we look at the interface named eth0 that we will be using to connect to the switch.

Let's assume it's a network with the address 192.168.1.0.
We then assign the systems with IP addresses on the same network.
For this we use the command IP addr. Once the links are up and the IP addresses are assigned, the computers can now communicate with each other through the switch.
SWITCH:- 
The switch can only enable communication within a network, which means it can receive packets from a host on the network and deliver it to other systems within the same network.

Sys-C with interface eth0 (192.168.2.10)--------SWITCH (192.168.2.0)---------Sys-D with interface eth0 (192.168.2.11)
Say we have another network containing systems C and D at address 192.168.2.0.The systems have IP address 192.168.2.10 and 192.168.2.11 respectively.
How does a system in one network reach a system in the other?

How does system B with the IP 192168.1.11 reach system C with the IP 192.168.2.10 on the other network?
That's where a router comes in.
A router helps connect two networks together.It is an intelligent device, so think of it as another server with many network ports.
Since it connects to the two separate networks, it gets two IPS assigned, one on each network.

In the first network, we assign it an IP address 192.168.1.1, and in the second we assign it an IP 192.168.2.1.

Sys-A (192.168.1.10)--SWITCH (192.168.1.0/24)--Sys-B(192.168.1.11)==> 192.168.1.1 (GW)=>|Router|=> 192.168.2.1(GW)==> Sys-C(192.168.2.10)--SWITCH (192.168.2.0/24)--Sys-D(192.168.2.11)

Now we have a router connected to the two networks that can enable communication between them.
When system B tries to send a packet to system C, how does it know where the router is on the network to send the packet through?
The router is just another device on the network. There could be many other such devices. That's where we configure the systems with a gateway or a route.
If the network was a room, the gateway is a door to the outside world, to the other networks, or to the internet.

The systems need to know where that door is?  to go through that.
To see the existing routing configuration on a system, run the command => route
It displays the kernel's routing table. And within that, as you can see, there are no routing configurations as of now.

Kernal IP Routing Table On System B
| Destination | Subnet Mask   | Gateway  | Interface | Metric |
| ----------- | ------------- | -------- | --------- | ------ |

So in this condition your system B will not be able to reach system C, it can only reach other systems within the same network in the range 192.168.1.0.

To configure a gateway on system B to reach the systems on network 192.168.2.0/24, run the IP route add command and specify that you can reach the 192.168.2.0 network through the door
or gateway, at 192.168.1.1.

#Route
Kernal IP Routing Table On System B
| Destination | Subnet Mask   | Gateway       | Interface | Metric |
| ----------- | ------------- | --------------| --------- | ------ |
| 192.168.2.0 | 255.255.255.0 | 192.168.1.1   | eth0      | 1      |


Running the route command again shows that we have a route added to reach the 192.168.2.0 series network through the router.Now remember this has to be configured on all the systems.

For example, if the system C is to send a packet to system B, then you need to add a route on System C's routing table to access the network at 1.0 through the router configured
with the IP address 2.1.

#Route
Kernal IP Routing Table On System C
| Destination | Subnet Mask   | Gateway       | Interface | Metric |
| ----------- | ------------- | --------------| --------- | ------ |
| 192.168.1.0 | 255.255.255.0 | 192.168.2.1   | eth0      | 1      |
Now suppose these systems need access to the internet.


Say they need access to Google at 172.27.194.0. Network on the internet. So you connect the router to the internet, and then add a new route in your routing table to route all traffic 
to the network. 172.27.194.0 Through your router.

There are so many different sites on different networks on the internet.
Instead of adding a routing table entry for the same router's IP address for each of those networks,you can simply say for any network that you don't know a route to use this router 
as the default gateway.
This way, any request to any network outside of your existing network goes to this particular router.
So in a simple setup like this, all you need is a single routing table entry with the default gateway set to the router's IP address.
Remember, instead of the word default, you could also say 0.0.0.0. It means any IP destination. Both of these lines mean the same thing.

#Route
Kernal IP Routing Table On System C
| Destination | Subnet Mask   | Gateway       | Interface | Metric |
| ----------- | ------------- | --------------| --------- | ------ |
| Default     | 255.255.255.0 | 192.168.2.1   | eth0      | 1      |
| 0.0.0.0     | 255.255.255.0 | 192.168.2.1   | eth0      | 1      |
| 192.168.2.0 | 255.255.255.0 | 0.0.0.0       | eth0      | 1      |

A 0.0.0.0 entry in the gateway field indicates that you don't need a gateway. For example, in this case, for system C to access any devices in the 192.168.2.0 network.
It doesn't need a gateway because it is in its own network.

But say you have multiple routers in your network, one for the internet, another for the internal private network.
Then you will need to have two separate entries for each network, one entry for the internal private network, and another entry with the default gateway for all other networks, 
including public networks.
So if you're having issues reaching internet from your systems, this routing table and the default gateway configuration is a good place to start.

Let us now look at how we can set up a Linux host as a router.
